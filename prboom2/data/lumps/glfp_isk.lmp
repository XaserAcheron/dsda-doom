uniform sampler2D tex;
uniform sampler2D colormap;

// [XA] indexed lightmode sky fragment shader (WIP)

void main()
{
  vec4 color = gl_Color;
  vec4 texel = texture2D(tex, gl_TexCoord[0].st);
  float colorIndex = texel.r;
  gl_FragColor = color * texture2D(colormap, vec2(colorIndex, 0.0));
  gl_FragColor.a = color.a * texel.a;
}
